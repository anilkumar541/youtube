
<script>
    let subscriber_count=  document.getElementById("count")
    let subscribe_button= document.getElementById("sub_btn")
    let subscriber_added= []

    //  addSubscriber
    function addSubscriber() {
        axios
            .get('{% url 'coreapp:add_subscriber' channel.user.id %}')
            .then(response =>{  
                console.log(response, "lkdnk")
                this.response= response.data
                console.log(this.response, "anil")
                
                subscribe_button.innerHTML= this.response
                loadSubscriber()
                subscribe_button.classList.toggle= ("unsubscribe-btn")
        })

    }

    // load subscriber
    function loadSubscriber() {
        axios
            .get('{% url 'coreapp:load_channel_subscribers' channel.user.id %}')
            .then(response =>{  
                this.response= response.data
                subscriber_added= this.response
                console.log(subscriber_added, "added")

                subscriber_count.innerHTML= subscriber_added.toString()
        })

        
    }

    // window.load()= loadSubscriber()
    window.addEventListener('load', loadSubscriber);
</script>

